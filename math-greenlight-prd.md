# 수학 그린라이트 (Math Green Light) PRD

> **Version**: 1.0
> **작성일**: 2025.01.15
> **상태**: Draft

---

## 1. 개요

### 1.1 프로젝트 배경
학생들이 자신의 수학 학습 성취도를 스스로 진단하고, 게임처럼 '초록불'을 켜나가는 과정을 통해 학습 동기를 부여하는 앱

### 1.2 핵심 컨셉
**"채점하지 말고 색칠하라!"**
- 점수 대신 신호등 색상(⚫🔴🔵🟢)으로 직관적 관리
- 메타인지 기반 자기주도 학습

### 1.3 운영 방식
```
학생(자가 진단) → 교사(검토/수정) → 학부모(공유)
```

### 1.4 MVP 목표
- 초기 타겟: 학원 수강생 14명
- 성공 기준: 학생 로그인 후 자기 빙고판 색칠 가능

---

## 2. 사용자 정의

### 2.1 학생 (Student)
| 기능 | 설명 |
|------|------|
| 빙고판 채우기 | 스스로 실력 판단하여 색상 변경 |
| 학습하기 | 팝업에서 유튜브 영상 바로 시청 |
| 진척도 확인 | 초록색 게이지 차오르는 것 시각적 확인 |

### 2.2 교사 (Teacher/Admin)
| 기능 | 설명 |
|------|------|
| 전체 모니터링 | 반 전체 학생 빙고판 현황 한눈에 확인 |
| 색상 조정 | 학생 자가진단 검토 후 필요시 수정 |
| 피드백 | 수정 시 간단한 코멘트 전송 (선택) |

### 2.3 학부모 (Parent/Viewer)
| 기능 | 설명 |
|------|------|
| 읽기 전용 | 자녀 빙고판 상태 확인 (수정 불가) |
| 알림 | All Green 달성 시 알림 (Phase 2) |

---

## 3. 성취도 시스템 (Signal System)

| 색상 | 코드 | 상태 | 의미 |
|------|------|------|------|
| ⚫ | BLACK | 미학습 | 아직 배우지 않은 미지의 영역 |
| 🔴 | RED | SOS | 개념이 흔들림. 영상 보고 다시 공부 필요 |
| 🔵 | BLUE | 연습 | 개념은 OK. 실수 줄이기 연습 중 |
| 🟢 | GREEN | 마스터 | 완벽함. 친구에게 설명 가능 (Pass) |

---

## 4. 화면 설계 (Information Architecture)

### 핵심 UX
**숲(대단원) → 나무(유형)** 드릴다운 구조

### 4.1 [화면 1] 메인 홈 - The Forest

```
┌─────────────────────────────┐
│      수학 그린라이트          │
├──────────┬──────────────────┤
│          │                  │
│  1.수와   │   2.문자와       │
│   연산    │     식          │
│  ████░░   │   ██████░       │
│  12/16    │   14/16         │
│          │                  │
├──────────┼──────────────────┤
│          │                  │
│  3.함수   │   4.기하         │
│          │                  │
│  ██░░░░   │   ░░░░░░        │
│  4/16    │   0/16          │
│          │                  │
└──────────┴──────────────────┘
```

**스펙:**
- 레이아웃: 2x2 카드 형태 (총 4개)
- 구성: 한 학기 4개 대단원
- 표시 정보:
  - 대단원 제목
  - Progress Bar (완료율)
- 동작: 카드 터치 → 화면 2 이동

### 4.2 [화면 2] 빙고판 - The Trees

```
┌─────────────────────────────┐
│  ← 1. 수와 연산              │
├──────┬──────┬──────┬────────┤
│ 🟢   │ 🟢   │ 🔵   │ 🔴     │
│유형1  │유형2  │유형3  │유형4   │
├──────┼──────┼──────┼────────┤
│ 🟢   │ 🔵   │ 🔵   │ 🟢     │
│유형5  │유형6  │유형7  │유형8   │
├──────┼──────┼──────┼────────┤
│ 🔴   │ 🟢   │ ⚫   │ ⚫     │
│유형9  │유형10 │유형11 │유형12  │
├──────┼──────┼──────┼────────┤
│ ⚫   │ ⚫   │ ⚫   │ ⚫     │
│유형13 │유형14 │유형15 │유형16  │
└──────┴──────┴──────┴────────┘
```

**스펙:**
- 레이아웃: 4x4 그리드 (총 16칸)
- 구성: 대단원 내 핵심 유형 16개
- 디자인: 배경색 = 성취도 색상
- 동작: 칸 터치 → 화면 3 팝업

### 4.3 [화면 3] 상세 팝업 - The Action

```
┌─────────────────────────────┐
│                          ✕ │
│   ┌─────────────────────┐   │
│   │                     │   │
│   │   [핵심 이미지]       │   │
│   │   (그래프/도형)       │   │
│   │                     │   │
│   └─────────────────────┘   │
│                             │
│   ▶ 이 유형이 어렵다면?      │
│     [유튜브 영상 보기]       │
│                             │
├─────────────────────────────┤
│  ⚫    🔴    🔵    🟢       │
│ 미학습  SOS  연습  마스터     │
└─────────────────────────────┘
```

**스펙:**
- 상단: 핵심 이미지 (그래프/도형)
- 중단: YouTube 영상 링크 버튼
- 하단: 4색 성취도 선택 버튼
- 동작: 색상 선택 시 즉시 저장 & 팝업 닫힘

---

## 5. 데이터 구조

### 5.1 Curriculum (커리큘럼)

| 필드 | 타입 | 설명 | 예시 |
|------|------|------|------|
| id | string | 고유번호 | "1-04" |
| unit_id | number | 대단원 번호 | 1 |
| unit_name | string | 대단원명 | "수와 연산" |
| type_name | string | 유형명 | "분수의 덧셈" |
| image_url | string | 핵심 이미지 | "/images/1-04.png" |
| youtube_url | string | 학습 영상 | "https://youtu.be/..." |
| order | number | 정렬 순서 | 4 |

### 5.2 UserProgress (학생 진척도)

| 필드 | 타입 | 설명 | 예시 |
|------|------|------|------|
| id | string | 고유번호 | "uuid" |
| user_id | string | 학생 ID | "student_001" |
| curriculum_id | string | 유형 ID | "1-04" |
| status | enum | 상태 | "GREEN" |
| updated_at | timestamp | 수정일시 | "2025-01-15T10:30:00" |
| updated_by | string | 수정자 | "student" / "teacher" |

### 5.3 User (사용자)

| 필드 | 타입 | 설명 | 예시 |
|------|------|------|------|
| id | string | 고유번호 | "uuid" |
| name | string | 이름 | "김철수" |
| role | enum | 역할 | "student" / "teacher" / "parent" |
| linked_student_id | string | 연결된 학생 (학부모용) | "student_001" |

---

## 6. 기술 스택

### 6.1 Frontend
| 기술 | 선택 | 이유 |
|------|------|------|
| Framework | Next.js 14+ | PWA 지원, SSR/SSG |
| UI Library | FloatUI | Tailwind 기반, 반응형, 무료 오픈소스 |
| Styling | Tailwind CSS | FloatUI 호환, 빠른 개발 |
| Language | TypeScript | 타입 안정성 |

### 6.2 Backend (추천)
| 기술 | 선택 | 이유 |
|------|------|------|
| BaaS | Supabase | PostgreSQL, 실시간, Auth 내장 |
| Alternative | Firebase | Firestore, 쉬운 시작 |

### 6.3 배포
| 기술 | 선택 | 이유 |
|------|------|------|
| Hosting | Vercel | Next.js 최적화 |
| PWA | next-pwa | 앱처럼 설치 가능 |

---

## 7. API 설계

### 7.1 Curriculum API

```
GET /api/curriculum
  → 전체 커리큘럼 조회

GET /api/curriculum/:unitId
  → 특정 대단원의 유형 목록
```

### 7.2 Progress API

```
GET /api/progress/:userId
  → 학생의 전체 진척도

PUT /api/progress/:userId/:curriculumId
  Body: { status: "GREEN" | "BLUE" | "RED" | "BLACK" }
  → 상태 업데이트

GET /api/progress/class/:teacherId
  → 교사가 담당하는 전체 학생 현황
```

### 7.3 Auth API

```
POST /api/auth/login
POST /api/auth/logout
GET /api/auth/me
```

---

## 8. UI/UX 상세

### 8.1 색상 팔레트

```css
--color-black: #1F2937;   /* 미학습 */
--color-red: #EF4444;     /* SOS */
--color-blue: #3B82F6;    /* 연습 */
--color-green: #10B981;   /* 마스터 */
--color-bg: #F9FAFB;      /* 배경 */
```

### 8.2 인터랙션

| 요소 | 효과 |
|------|------|
| 색상 버튼 클릭 | 진동 (모바일) + 반짝임 애니메이션 |
| 빙고 완성 (16 GREEN) | 축하 효과 + 사운드 |
| 카드 호버 | 살짝 확대 (scale: 1.02) |

### 8.3 반응형 브레이크포인트

```
Mobile: < 640px (기본, 모바일 우선)
Tablet: 640px ~ 1024px
Desktop: > 1024px
```

---

## 9. MVP 개발 범위

### Phase 1 (MVP) - 4주
- [ ] 학생 로그인/회원가입
- [ ] 메인 홈 (4칸 대단원)
- [ ] 빙고판 (16칸 유형)
- [ ] 상세 팝업 (이미지, 유튜브, 색상선택)
- [ ] 진척도 저장/불러오기

### Phase 2 - 2주 추가
- [ ] 교사 대시보드
- [ ] 교사 색상 수정 기능
- [ ] 학부모 조회 페이지

### Phase 3 - 추후
- [ ] 알림 시스템
- [ ] 학습 통계/리포트
- [ ] 다중 학기/학년 지원

---

## 10. 엑셀 데이터 양식

교사가 준비할 엑셀 파일 형식:

| ID | 대단원 | 대단원명 | 유형순서 | 유형명 | 이미지파일 | 유튜브링크 |
|----|--------|----------|----------|--------|------------|------------|
| 1-01 | 1 | 수와 연산 | 1 | 자연수의 혼합 계산 | 1-01.png | https://youtu.be/xxx |
| 1-02 | 1 | 수와 연산 | 2 | 분수의 덧셈 | 1-02.png | https://youtu.be/xxx |
| ... | | | | | | |
| 4-16 | 4 | 기하 | 16 | 원의 넓이 | 4-16.png | https://youtu.be/xxx |

---

## 11. 보안 고려사항

- 학생 개인정보 최소화 (이름, 학년만)
- 학부모는 연결된 자녀만 조회 가능
- 교사는 담당 학생만 수정 가능
- HTTPS 필수
- 비밀번호 해시 저장

---

## 12. 성공 지표 (KPI)

| 지표 | 목표 |
|------|------|
| 일일 활성 사용자 | 14명 중 10명 이상 |
| 주간 색칠 횟수 | 학생당 평균 20회 |
| All Green 달성률 | 월 1명 이상 |

---

## 부록: FloatUI 컴포넌트 매핑

| 화면 | FloatUI 컴포넌트 |
|------|------------------|
| 메인 홈 카드 | Card, Progress |
| 빙고판 그리드 | Grid, Badge |
| 상세 팝업 | Modal, Button |
| 로그인 | Form, Input |
| 교사 대시보드 | Table, Stats |
